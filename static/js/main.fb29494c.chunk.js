(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{125:function(e,t,a){},130:function(e,t,a){e.exports=a.p+"static/media/ava.82b23df9.jpg"},135:function(e,t,a){e.exports=a.p+"static/media/Ripple-1s-150px.482076b1.svg"},136:function(e,t,a){},138:function(e,t,a){e.exports={friendsPostsBlock:"Profile_friendsPostsBlock__7r9H6"}},139:function(e,t,a){e.exports={loginizationError:"LoginPage_loginizationError__3pC-T"}},166:function(e,t,a){e.exports=a(293)},171:function(e,t,a){},172:function(e,t,a){},173:function(e,t,a){e.exports=a.p+"static/media/logo.b3c46df9.png"},22:function(e,t,a){e.exports=a.p+"static/media/avadef.7abc474b.jpg"},26:function(e,t,a){e.exports={dialogs:"Dialogs_dialogs__MXxJQ",dialogsItem:"Dialogs_dialogsItem__KqJkc",messagesItem:"Dialogs_messagesItem__2euYw",dialog:"Dialogs_dialog__hvqlh",dialogsUserName:"Dialogs_dialogsUserName__1kFvG",message:"Dialogs_message__2WnAE",messageBody:"Dialogs_messageBody__17OZ4",messageName:"Dialogs_messageName__2Oa2N",messagesAreaPlusButton:"Dialogs_messagesAreaPlusButton__21jet"}},293:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(69),s=a.n(o);a(171),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=a(15),i=a(16),c=a(18),u=a(17),m=a(19),p=(a(172),a(31)),f=a.n(p),d=a(12),g=(a(173),function(){return r.a.createElement("nav",{className:f.a.nav},r.a.createElement("div",null,r.a.createElement("div",{className:f.a.nav_item},r.a.createElement("img",{className:f.a.navIcon,src:"https://img.icons8.com/cotton/64/000000/home--v1.png"}),r.a.createElement(d.b,{to:"/profile"},"Profile")),r.a.createElement("div",{className:f.a.nav_item},r.a.createElement("img",{className:f.a.navIcon,src:"https://img.icons8.com/cotton/64/000000/secured-letter--v1.png"}),r.a.createElement(d.b,{to:"/dialogs"},"Messages")),r.a.createElement("div",{className:f.a.nav_item},r.a.createElement("img",{className:f.a.navIcon,src:"https://img.icons8.com/cotton/64/000000/news.png"}),r.a.createElement(d.b,{to:"#"},"News")),r.a.createElement("div",{className:f.a.nav_item},r.a.createElement("img",{className:f.a.navIcon,src:"https://img.icons8.com/cotton/64/000000/user-male--v1.png"}),r.a.createElement(d.b,{to:"/users"},"Users"))))}),E=a(37),h=a(48),v=a(9),_={dialogs:[{id:1,name:"\u0418\u0432\u0430\u043d"},{id:2,name:"\u0415\u0432\u0433\u0435\u043d\u0438\u0439"},{id:3,name:"\u0414\u0430\u0440\u044c\u044f"},{id:4,name:"\u041e\u043a\u0441\u0430\u043d\u0430"},{id:5,name:"\u0414\u0435\u043d\u0438\u0441"}],messages:[{id:1,message:"First message"},{id:2,message:"Second message"},{id:3,message:"Third message"},{id:4,message:"Fourth message"},{id:5,message:"Fifth message"}]},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND_MESSAGE":var a=t.newMessageBody,n=e.messages[e.messages.length-1].id+1;return Object(v.a)({},e,{messages:[].concat(Object(h.a)(e.messages),[{id:n,message:a}])});default:return e}},P=a(26),N=a.n(P),O=a(29),k=a(126),S=a(127),I=a(130),j=a.n(I),y=a(22),w=a.n(y),C=function(e){var t="/dialogs/"+e.id;return r.a.createElement("div",{className:N.a.dialog},r.a.createElement("div",null,r.a.createElement("img",{src:w.a})),r.a.createElement("div",{className:N.a.dialogsUserName},r.a.createElement(d.b,{to:t},e.name)))},B=function(e){return r.a.createElement("div",{className:N.a.message},r.a.createElement("div",{className:N.a.messageAva},r.a.createElement("img",{src:j.a})),r.a.createElement("div",{className:N.a.messageBody},r.a.createElement("div",{className:N.a.messageName},r.a.createElement("span",null,"Kifo")),r.a.createElement("div",null,e.message)))},A=Object(S.a)({form:"dialogAddMessageForm",onSubmitSuccess:function(e,t){t(Object(O.a)("dialogAddMessageForm"))}})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",{className:N.a.messagesAreaPlusButton},r.a.createElement(k.a,{component:"textarea",name:"newMessageBody",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"}),r.a.createElement("button",null,"Send")))})),D=function(e){var t=e.messagesPage,a=t.dialogs.map((function(e){return r.a.createElement(C,{id:e.id,key:e.id,name:e.name})})),n=t.messages.map((function(e){return r.a.createElement(B,{id:e.id,key:e.id,message:e.message})}));t.newMessageText;return r.a.createElement("div",{className:N.a.dialogs},r.a.createElement("div",null,r.a.createElement("div",{className:N.a.messagesItem},n),r.a.createElement("div",null,r.a.createElement(A,{onSubmit:function(t){e.sendMessage(t.newMessageBody)}}))),r.a.createElement("div",{className:N.a.dialogsItem},a))},x=a(11),F=function(e){return{isAuth:e.auth.isAuth}},U=a(7),T=Object(U.d)(Object(x.b)((function(e){return{messagesPage:e.messagesPage}}),(function(e){return{sendMessage:function(t){e(function(e){return{type:"SEND_MESSAGE",newMessageBody:e}}(t))}}})),(function(e){var t=function(t){function a(){return Object(l.a)(this,a),Object(c.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(m.a)(a,t),Object(i.a)(a,[{key:"render",value:function(){return this.props.isAuth?r.a.createElement(e,this.props):r.a.createElement(E.a,{to:"/login"})}}]),a}(r.a.Component);return Object(x.b)(F)(t)}))(D),L=a(10),M=a.n(L),z=a(24),R=a(133).create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"bd0425f6-c69b-4945-8e14-eb03d93836c3"}}),G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return R.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},H=function(e){return R.post("follow/".concat(e)).then((function(e){return e.data}))},W=function(e){return R.delete("follow/".concat(e)).then((function(e){return e.data}))},K=function(e){return R.get("profile/"+e)},V=function(e){return R.get("profile/status/"+e)},J=function(e){return R.put("profile/status",{status:e})},Y=function(e){var t=new FormData;return t.append("image",e),R.put("profile/photo",t,{headers:{"Content-Type":"multipart/from-data"}})},Z=function(e){return R.put("profile",e)},Q=function(){return R.get("auth/me")},X=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return R.post("auth/login",{email:e,password:t,rememberMe:a})},q=function(){return R.delete("auth/login")},$={users:[],pageSize:9,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[]},ee=function(e){return{type:"SET_USERS",users:e}},te=function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},ae=function(e){return{type:"SET_TOTAL_USERS_COUNT",count:e}},ne=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},re=function(e,t){return{type:"TOGGLE_IS_FOLLOWING_PROGRESS",isFetching:e,userId:t}},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(v.a)({},e,{users:e.users.map((function(e){return e.id===t.userId?Object(v.a)({},e,{followed:!0}):e}))});case"UNFOLLOW":return Object(v.a)({},e,{users:e.users.map((function(e){return e.id===t.userId?Object(v.a)({},e,{followed:!1}):e}))});case"SET_USERS":return Object(v.a)({},e,{users:t.users});case"SET_CURRENT_PAGE":return Object(v.a)({},e,{currentPage:t.currentPage});case"SET_TOTAL_USERS_COUNT":return Object(v.a)({},e,{totalUsersCount:t.count});case"TOGGLE_IS_FETCHING":return Object(v.a)({},e,{isFetching:t.isFetching});case"TOGGLE_IS_FOLLOWING_PROGRESS":return Object(v.a)({},e,{followingInProgress:t.isFetching?[].concat(Object(h.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!=t.userId}))});default:return e}},se=a(38),le=a.n(se),ie=a(71),ce=a(42),ue=a(49),me=a.n(ue),pe=a(134),fe=a.n(pe),de=function(e,t){for(var a=t.portionSize,o=void 0===a?5:a,s=Math.ceil(e.totalUsersCount/e.pageSize),l=[],i=1;i<=s;i++)l.push(i);var c=Math.ceil(s/o),u=Object(n.useState)(1),m=Object(ce.a)(u,2),p=m[0],f=m[1],d=(p-1)*o+1,g=p*o;return r.a.createElement("div",null,r.a.createElement("div",{className:me.a.paginationBlock},p>1&&r.a.createElement("button",{className:me.a.prevButton,onClick:function(){f(p-1)}},"Prev"),l.filter((function(e){return e>=d&&e<=g})).map((function(t){return r.a.createElement("div",{className:fe()(Object(ie.a)({},me.a.selectedPage,e.currentPage===t),me.a.pageNumber),key:t,onClick:function(a){e.onPageChanged(t)}},t)})),c>p&&r.a.createElement("button",{className:me.a.nextButton,onClick:function(){f(p+1)}},"Next")))},ge=function(e){return r.a.createElement("div",null,r.a.createElement(de,{currentPage:e.currentPage,onPageChanged:e.onPageChanged,totalUsersCount:e.totalUsersCount,pageSize:e.pageSize}),r.a.createElement("div",{className:le.a.allUsersBlock},e.users.map((function(t){return r.a.createElement("div",{className:le.a.userBlock,key:t.id},r.a.createElement("div",{className:le.a.userPhotoBlock},r.a.createElement(d.b,{to:"/profile/"+t.id},r.a.createElement("img",{src:null!=t.photos.small?t.photos.small:w.a,className:le.a.usersPhoto}))),r.a.createElement("div",{className:le.a.nameBlock},r.a.createElement(d.b,{to:"/profile/"+t.id},r.a.createElement("div",null,t.name)),r.a.createElement("i",null,t.status)),r.a.createElement("div",{className:le.a.locationBlock},r.a.createElement("div",{className:le.a.followButtonBlock},t.followed?r.a.createElement("button",{disabled:e.followingInProgress.some((function(e){return e===t.id})),onClick:function(){e.unfollow(t.id)}},"Unfollow"):r.a.createElement("button",{disabled:e.followingInProgress.some((function(e){return e===t.id})),onClick:function(){e.follow(t.id)}},"Follow"))))}))),r.a.createElement(de,{currentPage:e.currentPage,onPageChanged:e.onPageChanged,totalUsersCount:e.totalUsersCount,pageSize:e.pageSize}))},Ee=a(135),he=a.n(Ee),ve=a(136),_e=a.n(ve),be=function(e){return r.a.createElement("div",{className:_e.a.preloader},r.a.createElement("img",{src:he.a}))},Pe=function(e){return e.usersPage.users},Ne=function(e){return e.usersPage.pageSize},Oe=function(e){return e.usersPage.totalUsersCount},ke=function(e){return e.usersPage.currentPage},Se=function(e){return e.usersPage.isFetching},Ie=function(e){return e.usersPage.followingInProgress},je=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onPageChanged=function(e){a.props.onPageChanged(e,a.props.pageSize)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.isFetching?r.a.createElement(be,null):null,r.a.createElement(ge,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,followingInProgress:this.props.followingInProgress}))}}]),t}(r.a.Component),ye=Object(U.d)(Object(x.b)((function(e){return{users:Pe(e),pageSize:Ne(e),totalUsersCount:Oe(e),currentPage:ke(e),isFetching:Se(e),followingInProgress:Ie(e)}}),{follow:function(e){return function(t){t(re(!0,e)),H(e).then((function(a){0===a.resultCode&&t(function(e){return{type:"FOLLOW",userId:e}}(e)),t(re(!1,e))}))}},unfollow:function(e){return function(t){t(re(!0,e)),W(e).then((function(a){0===a.resultCode&&t(function(e){return{type:"UNFOLLOW",userId:e}}(e)),t(re(!1,e))}))}},setCurrentPage:te,onPageChanged:function(e,t){return function(){var a=Object(z.a)(M.a.mark((function a(n){var r;return M.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(te(e)),n(ne(!0)),a.next=4,G(e,t);case 4:r=a.sent,n(ne(!1)),n(ee(r.items));case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},setTotalUsersCount:ae,toggleFollowingProgress:re,getUsers:function(e,t){return function(){var a=Object(z.a)(M.a.mark((function a(n){var r;return M.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(ne(!0)),a.next=3,G(e,t);case 3:r=a.sent,n(ne(!1)),n(ee(r.items)),n(ae(r.totalCount));case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}}))(je),we=a(4),Ce=a.n(we),Be=(a(125),r.a.Component,function(e){var t=Object(n.useState)(!1),a=Object(ce.a)(t,2),o=a[0],s=a[1],l=Object(n.useState)(e.status),i=Object(ce.a)(l,2),c=i[0],u=i[1];Object(n.useEffect)((function(){u(e.status)}),[e.status]);return r.a.createElement("div",null,!o&&r.a.createElement("div",null,r.a.createElement("span",{onClick:function(){s(!0)}},e.status||"No status")),o&&r.a.createElement("div",null,r.a.createElement("input",{onChange:function(e){u(e.currentTarget.value)},autoFocus:!0,onBlur:function(){s(!1),e.updateStatus(c)},value:c})))}),Ae=a(137),De=a(94),xe=a.n(De),Fe=function(e){var t=e.input,a=e.meta,n=Object(Ae.a)(e,["input","meta"]),o=a.touched&&a.error;return r.a.createElement("div",{className:xe.a.formControl+" "+(o?xe.a.error:" ")},r.a.createElement("div",null,r.a.createElement("input",Object.assign({},t,n))),o&&r.a.createElement("span",null,a.error))},Ue=function(e){if(!e)return"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"},Te=Object(S.a)({form:"editProfile"})((function(e){var t=e.handleSubmit;e.profile;return r.a.createElement("form",{className:Ce.a.profileDescriptionBlock,onSubmit:t},r.a.createElement("div",null,r.a.createElement("div",{className:Ce.a.formAddInfo},r.a.createElement("span",null,"Full Name: "),r.a.createElement("span",{className:Ce.a.married},r.a.createElement(k.a,{placeholder:"Full name",name:"fullName",component:Fe}))),r.a.createElement("div",{className:Ce.a.formAddInfo},r.a.createElement("span",null,"Birthday:"),r.a.createElement("span",{className:Ce.a.birthDay}," 11 may")),r.a.createElement("div",{className:Ce.a.formAddInfo},r.a.createElement("span",null,"City: "),r.a.createElement("span",{className:Ce.a.birthCity},"Karakol")),r.a.createElement("div",{className:Ce.a.formAddInfo},r.a.createElement("span",null,"Family status: "),r.a.createElement("span",{className:Ce.a.married},"Not married")),r.a.createElement("div",{className:Ce.a.formAddInfo},r.a.createElement("span",null,"Sdat kyrsach: "),r.a.createElement("span",{className:Ce.a.married},r.a.createElement(k.a,{component:"input",name:"lookingForAJob",type:"checkbox"}))),r.a.createElement("div",{className:Ce.a.formAddInfo},r.a.createElement("span",null,"Skills: "),r.a.createElement("span",{className:Ce.a.married},r.a.createElement(k.a,{component:"input",name:"lookingForAJobDescription",type:"textarea"}))),r.a.createElement("div",{className:Ce.a.formAddInfo},r.a.createElement("span",null,"About me: "),r.a.createElement("span",{className:Ce.a.married},r.a.createElement(k.a,{placeholder:"About me",name:"aboutMe",component:Fe})))),r.a.createElement("span",null,"Contacts:",r.a.createElement("div",{className:Ce.a.formAddInfo}," ",r.a.createElement("span",null,"Vk: "),r.a.createElement(k.a,{placeholder:"VK",name:"contacts.vk",component:Fe})),r.a.createElement("div",{className:Ce.a.formAddInfo}," ",r.a.createElement("span",null,"Github: "),r.a.createElement(k.a,{placeholder:"Github",name:"contacts.github",component:Fe}))),r.a.createElement("div",{className:Ce.a.saveDataButton},r.a.createElement("button",null,"Save")))})),Le=function(e){var t=e.profile,a=e.isOwner,n=e.activateEditMode;return r.a.createElement("div",{className:Ce.a.profileDescriptionBlock},r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("span",null,"Full Name: "),r.a.createElement("span",{className:Ce.a.fullname},t.fullName)),r.a.createElement("div",null,r.a.createElement("span",null,"Birthday:"),r.a.createElement("span",{className:Ce.a.birthDay}," 11 may")),r.a.createElement("div",null,r.a.createElement("span",null,"City: "),r.a.createElement("span",{className:Ce.a.birthCity},"Karakol")),r.a.createElement("div",null,r.a.createElement("span",null,"Family status: "),r.a.createElement("span",{className:Ce.a.married},"Not married")),r.a.createElement("div",null,r.a.createElement("span",null,"Sdat kyrsach: "),r.a.createElement("span",{className:Ce.a.sdat},t.lookingForAJob?"Yes":"No")),r.a.createElement("div",null,r.a.createElement("span",null,"Skills: "),r.a.createElement("span",{className:Ce.a.skills},t.lookingForAJobDescription)),r.a.createElement("div",null,r.a.createElement("span",null,"About me: "),r.a.createElement("span",{className:Ce.a.about},t.aboutMe))),r.a.createElement("span",null,"Contacts:",r.a.createElement("div",null,r.a.createElement("span",null,"vk: "),r.a.createElement("span",{className:Ce.a.vk},t.contacts.vk)),r.a.createElement("div",null,r.a.createElement("span",null,"github: "),r.a.createElement("span",{className:Ce.a.github},t.contacts.github))),a&&r.a.createElement("div",{className:Ce.a.editDataButton},r.a.createElement("button",{onClick:n},"Edit")))},Me=function(e){var t=Object(n.useState)(!1),a=Object(ce.a)(t,2),o=a[0],s=a[1];if(!e.profile)return r.a.createElement(be,null);return r.a.createElement("div",{className:Ce.a.profileContent},r.a.createElement("div",{className:Ce.a.mainContent},r.a.createElement("div",{className:Ce.a.profileInfo},r.a.createElement("div",{className:Ce.a.profilePhoto},r.a.createElement("img",{className:Ce.a.profileAvatar,src:e.profile.photos.large||w.a}),r.a.createElement("div",{className:Ce.a.addPhoto},e.isOwner&&r.a.createElement("input",{type:"file",onChange:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])}}))),r.a.createElement("div",{className:Ce.a.profileDescription},r.a.createElement("div",{className:Ce.a.nameBlock},r.a.createElement("h1",{className:Ce.a.pageName},e.profile.fullName),r.a.createElement(Be,{status:e.status,updateStatus:e.updateStatus})),o?r.a.createElement(Te,{initialValues:e.profile,profile:e.profile,onSubmit:function(t){e.saveDataProfile(t),s(!1)}}):r.a.createElement(Le,{profile:e.profile,isOwner:e.isOwner,activateEditMode:function(){s(!0)}})))))},ze={posts:[{id:1,message:"First random post",likesCount:20},{id:2,message:"Second random post",likesCount:15},{id:3,message:"Ale ejji",likesCount:50}],profile:null,isFetching:!1,status:""},Re=function(e){return{type:"SET_STATUS",status:e}},Ge=function(e){return function(){var t=Object(z.a)(M.a.mark((function t(a){var n;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,K(e);case 2:n=t.sent,a({type:"SET_USER_PROFILE",profile:n.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":var a=e.posts[e.posts.length-1].id+1,n=t.newPostBody,r=0;return Object(v.a)({},e,{posts:[].concat(Object(h.a)(e.posts),[{id:a,message:n,likesCount:r}])});case"SET_USER_PROFILE":return Object(v.a)({},e,{profile:t.profile});case"TOGGLE_IS_FETCHING":return Object(v.a)({},e,{isFetching:t.isFetching});case"SET_STATUS":return Object(v.a)({},e,{status:t.status});case"SAVE_PHOTO_SUCCESS":return Object(v.a)({},e,{profile:Object(v.a)({},e.profile,{photos:t.photos})});default:return e}},We=a(59),Ke=a.n(We),Ve=a(60),Je=a.n(Ve),Ye=function(e){return r.a.createElement("div",{className:Je.a.item},r.a.createElement("img",{className:Je.a.postImage,src:"https://i.pinimg.com/736x/60/69/d5/6069d5dcde2d621fa89bc32b4108115a.jpg"}),r.a.createElement("div",{className:Je.a.textPost},r.a.createElement("div",null,r.a.createElement("span",{className:Je.a.postName},"Kifo")),r.a.createElement("div",null,r.a.createElement("span",null,e.message))),r.a.createElement("span",null,"Likes: ",e.likes))},Ze=Object(S.a)({form:"newPostForm",onSubmitSuccess:function(e,t){t(Object(O.a)("newPostForm"))}})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",{className:Ke.a.areaPlusButton},r.a.createElement("img",{className:Ke.a.avaImage,src:"https://i.pinimg.com/736x/60/69/d5/6069d5dcde2d621fa89bc32b4108115a.jpg"}),r.a.createElement(k.a,{component:"textarea",name:"newPostBody",placeholder:"\u0427\u0442\u043e \u043d\u043e\u0432\u043e\u0433\u043e?"}),r.a.createElement("button",null,"Add post")))})),Qe=function(e){var t=e.posts.map((function(e){return r.a.createElement(Ye,{id:e.id,message:e.message,likes:e.likesCount,key:e.id})}));return r.a.createElement("div",{className:Ke.a.mainContentPosts},r.a.createElement(Ze,{onSubmit:function(t){e.addPost(t.newPostBody)}}),r.a.createElement("div",{className:Ke.a.postsBlock},t))},Xe=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={profile:a.props.profile},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e,t){e.profile!=this.props.profile&&this.setState({profile:this.props.profile})}},{key:"render",value:function(){return r.a.createElement(Qe,this.props)}}]),t}(r.a.Component),qe=Object(x.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText,profile:e.profilePage.profile}}),(function(e){return{addPost:function(t){e(function(e){return{type:"ADD-POST",newPostBody:e}}(t))}}}))(Xe),$e=a(32),et=a.n($e),tt=function(e){return r.a.createElement("div",{className:et.a.friendListBlock},r.a.createElement("span",null,"Friends"),r.a.createElement("div",{className:et.a.friendsList},r.a.createElement("img",{className:et.a.friendDefault,src:w.a}),r.a.createElement("img",{className:et.a.friendDefault,src:w.a}),r.a.createElement("img",{className:et.a.friendDefault,src:w.a}),r.a.createElement("img",{className:et.a.friendDefault,src:w.a}),r.a.createElement("img",{className:et.a.friendDefault,src:w.a}),r.a.createElement("img",{className:et.a.friendDefault,src:w.a})))},at=a(138),nt=a.n(at),rt=function(e){return r.a.createElement("div",null,r.a.createElement(Me,{profile:e.profile,status:e.status,updateStatus:e.updateStatus,saveDataProfile:e.saveDataProfile,isOwner:e.isOwner,savePhoto:e.savePhoto}),r.a.createElement("div",{className:nt.a.friendsPostsBlock},r.a.createElement(tt,null),r.a.createElement(qe,{profile:e.profile})))},ot=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"updateProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.updateProfile()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.match.params.userId!=e.match.params.userId&&this.updateProfile()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(rt,Object.assign({},this.props,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto})))}}]),t}(r.a.Component),st=Object(U.d)(Object(x.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:Ge,getStatus:function(e){return function(){var t=Object(z.a)(M.a.mark((function t(a){var n;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,V(e);case 2:n=t.sent,a(Re(n.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(z.a)(M.a.mark((function t(a){return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J(e);case 2:0===t.sent.data.resultCode&&a(Re(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},savePhoto:function(e){return function(){var t=Object(z.a)(M.a.mark((function t(a){var n;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Y(e);case 2:0===(n=t.sent).data.resultCode&&a({type:"SAVE_PHOTO_SUCCESS",photos:n.data.data.photos});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},saveDataProfile:function(e){return function(){var t=Object(z.a)(M.a.mark((function t(a,n){var r;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n().auth.userId,t.next=3,Z(e);case 3:0===t.sent.data.resultCode&&a(Ge(r));case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}}),E.f)(ot),lt={userId:null,email:null,login:null,isAuth:!1},it=function(e,t,a,n){return{type:"SET_USER_DATA",payload:{userId:e,email:t,login:a,isAuth:n}}},ct=function(){return function(){var e=Object(z.a)(M.a.mark((function e(t){var a,n,r,o,s;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q();case 2:0===(a=e.sent).data.resultCode&&(n=a.data.data,r=n.id,o=n.email,s=n.login,t(it(r,o,s,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DATA":return Object(v.a)({},e,{},t.payload);default:return e}},mt=a(139),pt=a.n(mt),ft=function(e){return function(t){if(t.length>e)return"\u041c\u0430\u043a\u0441\u0438\u043c\u0443\u043c ".concat(e," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")}}(30),dt=Object(S.a)({form:"login",onSubmitSuccess:function(e,t){t(Object(O.a)("login"))}})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",null,r.a.createElement(k.a,{placeholder:"Email",name:"email",component:Fe,validate:[Ue,ft]})),r.a.createElement("div",null,r.a.createElement(k.a,{placeholder:"Password",name:"password",type:"password",component:Fe})),r.a.createElement("div",null,r.a.createElement(k.a,{component:"input",name:"rememberMe",type:"checkbox"})," Remember me"),e.error&&r.a.createElement("div",{className:pt.a.loginizationError},e.error),r.a.createElement("div",null,r.a.createElement("button",null,"Login")))})),gt=Object(x.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:function(e,t,a){return function(){var n=Object(z.a)(M.a.mark((function n(r){var o,s;return M.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,X(e,t,a);case 2:0===(o=n.sent).data.resultCode?r(ct()):(s=o.data.messages.length>0?o.data.messages[0]:"\u041a\u0430\u043a\u0430\u044f-\u0442\u043e \u043e\u0448\u0438\u0431\u043a\u0430",r(Object(O.b)("login",{_error:s})));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}})((function(e){return e.isAuth?r.a.createElement(E.a,{to:"/profile"}):r.a.createElement("div",null,r.a.createElement("h1",null,"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0437\u0430\u043b\u043e\u0433\u0438\u043d\u044c\u0442\u0435\u0441\u044c"),r.a.createElement(dt,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe)}}))})),Et=a(50),ht=a.n(Et),vt=function(e){return r.a.createElement("div",{className:ht.a.headerBlock},r.a.createElement("div",null,e.isAuth?r.a.createElement("div",{className:ht.a.loginBlock},r.a.createElement("div",null,r.a.createElement("button",{className:ht.a.loginButton,onClick:e.logout},"Logout")),r.a.createElement("div",null,e.login),r.a.createElement("div",{className:ht.a.avaLoginBlock},!e.profile&&r.a.createElement("span",null,"No photo"),e.profile&&r.a.createElement("div",null,r.a.createElement("img",{className:ht.a.miniAvaLoginBlock,src:e.profile.photos.small})))):r.a.createElement(d.b,{to:"/login"},"Login")))},_t=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={profile:a.props.profile},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e,t){e.profile!=this.props.profile&&this.setState({profile:this.props.profile})}},{key:"render",value:function(){return r.a.createElement(vt,this.props)}}]),t}(r.a.Component),bt=Object(x.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login,profile:e.profilePage.profile}}),{getUserProfile:Ge,getAuthUserData:ct,logout:function(){return function(){var e=Object(z.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q();case 2:0===e.sent.data.resultCode&&t(it(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(_t),Pt={initialized:!1},Nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZED_SUCCESS":return Object(v.a)({},e,{initialized:!0});default:return e}},Ot=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?r.a.createElement("div",null,r.a.createElement(bt,null),r.a.createElement("div",{className:"app-main"},r.a.createElement(g,null),r.a.createElement("div",{className:"mainContent"},r.a.createElement(E.b,{path:"/profile/:userId?",render:function(){return r.a.createElement(st,null)}}),r.a.createElement(E.b,{path:"/dialogs",render:function(){return r.a.createElement(T,null)}}),r.a.createElement(E.b,{path:"/users",render:function(){return r.a.createElement(ye,null)}}),r.a.createElement(E.b,{path:"/login",render:function(){return r.a.createElement(gt,null)}})))):r.a.createElement(be,null)}}]),t}(n.Component),kt=Object(U.d)(E.f,Object(x.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(ct());Promise.all([t]).then((function(){e({type:"INITIALIZED_SUCCESS"})}))}}}))(Ot),St=a(140),It=a(128),jt=Object(U.c)({profilePage:He,messagesPage:b,usersPage:oe,auth:ut,form:It.a,app:Nt}),yt=Object(U.e)(jt,Object(U.a)(St.a));window.store=yt;var wt=yt;s.a.render(r.a.createElement(d.a,null,r.a.createElement(x.a,{store:wt},r.a.createElement(kt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},31:function(e,t,a){e.exports={nav:"Navbar_nav__1cZd8",nav_item:"Navbar_nav_item__26ML0",navIcon:"Navbar_navIcon__r8w25"}},32:function(e,t,a){e.exports={friendListBlock:"FriendList_friendListBlock__KIjO0",friendsList:"FriendList_friendsList__1Ffno",friendDefault:"FriendList_friendDefault__2JwzH"}},38:function(e,t,a){e.exports={allUsersBlock:"users_allUsersBlock__2QaTX",userBlock:"users_userBlock__3s5v6",usersPhoto:"users_usersPhoto__1VBg8",nameBlock:"users_nameBlock__3Xg_S",locationBlock:"users_locationBlock__r2Zly",followButtonBlock:"users_followButtonBlock__33A0X"}},4:function(e,t,a){e.exports={profileContent:"ProfileInfo_profileContent__2MaYC",profileInfo:"ProfileInfo_profileInfo__1cb8b",profilePhoto:"ProfileInfo_profilePhoto__Q8jHl",profileAvatar:"ProfileInfo_profileAvatar__16Y7B",profileDescription:"ProfileInfo_profileDescription__38m1T",nameBlock:"ProfileInfo_nameBlock__2CUBM",pageName:"ProfileInfo_pageName__1a2Wc",profileDescriptionBlock:"ProfileInfo_profileDescriptionBlock__3c409",birthDay:"ProfileInfo_birthDay__3b2Sy",birthCity:"ProfileInfo_birthCity__3aO_A",married:"ProfileInfo_married__1v4dL",addPhoto:"ProfileInfo_addPhoto__2iRMI",formAddInfo:"ProfileInfo_formAddInfo__33ZrR",fullname:"ProfileInfo_fullname__2Vrni",sdat:"ProfileInfo_sdat___xCyS",skills:"ProfileInfo_skills__2WKeW",about:"ProfileInfo_about__1A1qS",vk:"ProfileInfo_vk__VBk7k",github:"ProfileInfo_github__1siFQ",editDataButton:"ProfileInfo_editDataButton__7EO0_",saveDataButton:"ProfileInfo_saveDataButton__D-KMX"}},49:function(e,t,a){e.exports={selectedPage:"Paginator_selectedPage__1H5IB",paginationBlock:"Paginator_paginationBlock__jlY98",pageNumber:"Paginator_pageNumber__3wULW",prevButton:"Paginator_prevButton__3FQeY",nextButton:"Paginator_nextButton__3yWJA"}},50:function(e,t,a){e.exports={headerBlock:"Header_headerBlock__2_VVP",loginBlock:"Header_loginBlock__1eYIf",loginButton:"Header_loginButton__1QHZc",miniAvaLoginBlock:"Header_miniAvaLoginBlock__3SHBm",avaLoginBlock:"Header_avaLoginBlock__3lE7E"}},59:function(e,t,a){e.exports={mainContentPosts:"Myposts_mainContentPosts__-VFah",areaPlusButton:"Myposts_areaPlusButton__2l0aS",avaImage:"Myposts_avaImage__DBRAF",postsBlock:"Myposts_postsBlock__17hsU"}},60:function(e,t,a){e.exports={item:"Post_item__RKH9h",postImage:"Post_postImage__yDIE_",textPost:"Post_textPost__1Rb46",postName:"Post_postName__3kmsO"}},94:function(e,t,a){e.exports={formControl:"FormsControl_formControl__eGIbT",error:"FormsControl_error__1tx0l"}}},[[166,1,2]]]);
//# sourceMappingURL=main.fb29494c.chunk.js.map